import { isFunction } from '@roots/bud-support/lodash-es';
export const config = function (input) {
    const ctx = this;
    if (!input)
        throw new Error(`config input must pass a callback function that returns a webpack configuration`);
    ctx.hooks.action(`build.after`, async (app) => {
        app.build.config = isFunction(input)
            ? input(app.build.config)
            : {
                ...app.build.config,
                ...input,
            };
    });
    return ctx;
};
//# sourceMappingURL=config.method.js.map